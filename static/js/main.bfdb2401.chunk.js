(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(35)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(11),r=n.n(l),c=n(5),i=n(8),s=n(18),u={visibleFilter:localStorage.getItem("filter")||"all"},d=n(19),m=n(10),f={todos:JSON.parse(localStorage.getItem("todo"))||[]},p=Object(i.combineReducers)({visibleFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_FILTER":return localStorage.setItem("filter",a),{visibleFilter:a};default:return e}},todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=e.todos,a=t.type,o=t.payload;switch(a){case"ADD_TODO":var l={todos:[].concat(Object(m.a)(n),[o])};return localStorage.setItem("todo",JSON.stringify(l.todos)),l;case"REMOVE_TODO":var r={todos:n.filter(function(e){return e.id!==o})};return localStorage.setItem("todo",JSON.stringify(r.todos)),r;case"TOGGLE_TODO":var c=n.findIndex(function(e){return e.id===o}),i=Object.assign({},n[c],{isComplete:!n[c].isComplete}),s={todos:[].concat(Object(m.a)(n.slice(0,c)),[i],Object(m.a)(n.slice(c+1)))};return localStorage.setItem("todo",JSON.stringify(s.todos)),s;case"EDIT_TODO":var u=o.id,p=o.text,h=n.findIndex(function(e){return e.id===u}),O=Object.assign({},n[h],{text:p}),v={todos:[].concat(Object(m.a)(n.slice(0,h)),[O],Object(m.a)(n.slice(h+1)))};return localStorage.setItem("todo",JSON.stringify(v.todos)),v;case"TOGGLE_ALL_TODOS":var b=n.every(function(e){return e.isComplete}),E={todos:n.map(function(e){return Object(d.a)({},e,{isComplete:!b})})};return localStorage.setItem("todo",JSON.stringify(E.todos)),E;case"REMOVE_COMPLETED_TODOS":var g={todos:n.filter(function(e){return!e.isComplete})};return localStorage.setItem("todo",JSON.stringify(g.todos)),g;default:return e}}}),h=Object(i.createStore)(p,Object(s.composeWithDevTools)()),O=n(2),v=n(3),b=n(6),E=n(4),g=n(7),y=(n(29),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){(0,n.props.onToggleAll)()},n}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.active;return o.a.createElement("label",{className:"label-select-all",hidden:0===t,htmlFor:"select-all"},o.a.createElement("input",{onClick:this.handleClick,onChange:function(){},checked:0===n,type:"checkbox",id:"select-all",className:"select-all"}),o.a.createElement("span",{className:"select-all-pseudo"}))}}]),t}(a.PureComponent)),T=(n(30),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).createElement=function(e){var t=n.props.addTodo;e.keyCode&&13!==e.keyCode||""!==e.target.value&&(t({id:Date.now(),text:e.target.value,isComplete:!1}),e.target.value="")},n.handleBlur=function(e){n.createElement(e)},n.handleKeyDown=function(e){n.createElement(e)},n}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("input",{className:"header__new-item",onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,placeholder:"What needs to be done?"})}}]),t}(a.PureComponent)),C=function(e){var t=e.total,n=e.active,l=e.toggleAllTodos,r=e.addTodo;return o.a.createElement(a.Fragment,null,o.a.createElement(y,{onToggleAll:l,total:t,active:n}),o.a.createElement(T,{addTodo:r}))},j=Object(c.b)(function(e){var t=e.todos.todos;return{total:t.length,active:t.filter(function(e){return!e.isComplete}).length}},{addTodo:function(e){return{type:"ADD_TODO",payload:e}},toggleAllTodos:function(){return{type:"TOGGLE_ALL_TODOS"}}})(C),k=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){var e=n.props;(0,e.setFilter)(e.filterName)},n}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isCurrent,n=e.filterName,a=e.filterLabel;return o.a.createElement("li",{className:"filters__item"},o.a.createElement("input",{className:"filter",defaultChecked:t,type:"radio",name:"group",id:n,onClick:this.handleClick}),o.a.createElement("label",{htmlFor:n,className:n},a))}}]),t}(a.PureComponent),D=[{name:"all",label:"All"},{name:"active",label:"Active"},{name:"completed",label:"Completed"}],N=(n(31),function(e){var t=e.selectedFilter,n=e.setFilter,a=D.map(function(e){var a=e.name,l=e.label;return o.a.createElement(k,{key:a,filterName:a,filterLabel:l,setFilter:n,isCurrent:t===a})});return o.a.createElement("ul",{className:"filters"},a)}),w=function(e){var t=e.total,n=e.completed,a=e.filter,l=e.removeCompletedTodos,r=e.setFilter;return o.a.createElement("footer",{className:"footer ".concat(0===t?" hidden":"")},o.a.createElement("span",{className:"counter"},"".concat(t-n," items left")),o.a.createElement(N,{selectedFilter:a,setFilter:r}),o.a.createElement("button",{className:"clear-completed",type:"submit",hidden:0===n,onClick:l},"Clear completed"))},S=Object(c.b)(function(e){var t=e.todos.todos;return{filter:e.visibleFilter.visibleFilter,total:t.length,completed:t.filter(function(e){return e.isComplete}).length}},{removeCompletedTodos:function(){return{type:"REMOVE_COMPLETED_TODOS"}},setFilter:function(e){return{type:"SET_FILTER",payload:e}}})(w),F=(n(32),n(33),function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={isEdit:!1},n.inputFocusRef=o.a.createRef(),n.handleInputClick=function(){var e=n.props,t=e.id;(0,e.toggleTodo)(t)},n.handleBtnDeleteClick=function(){var e=n.props,t=e.id;(0,e.removeTodo)(t)},n.handleLabelDblClick=function(){n.setState({isEdit:!0})},n.handleKeyDown=function(e){n.handleNewInputEdit(e)},n.handleBlur=function(e){n.handleNewInputEdit(e)},n.handleNewInputEdit=function(e){var t=n.props,a=t.id,o=t.editTodo,l=t.removeTodo;n.props.text;e.keyCode&&13!==e.keyCode||(""!==e.target.value?(o(a,e.target.value),n.setState({isEdit:!1})):l(a))},n}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(){this.state.isEdit&&this.inputFocusRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.isComplete,a=this.state.isEdit;return o.a.createElement("li",{className:"item"},o.a.createElement("div",{className:"content-wrap"},o.a.createElement("input",{onClick:this.handleInputClick,className:"complete",type:"checkbox",checked:n,onChange:function(){}}),a?o.a.createElement("input",{className:"edit",ref:this.inputFocusRef,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,defaultValue:t}):o.a.createElement("span",{className:"caption",onDoubleClick:this.handleLabelDblClick},t),o.a.createElement("button",{className:"delete",type:"submit",onClick:this.handleBtnDeleteClick})))}}]),t}(a.PureComponent)),_=(n(34),function(e){var t=e.todos,n=e.toggleTodo,a=e.editTodo,l=e.removeTodo,r=t.map(function(e){return o.a.createElement(F,Object.assign({key:e.id},e,{toggleTodo:n,editTodo:a,removeTodo:l}))});return o.a.createElement("ul",{className:"todo-list"},r)}),I=function(e,t){switch(t){case"all":return e;case"completed":return e.filter(function(e){return e.isComplete});case"active":return e.filter(function(e){return!e.isComplete});default:return e}},L=Object(c.b)(function(e){var t=e.todos.todos,n=e.visibleFilter.visibleFilter;return{todos:I(t,n)}},{removeTodo:function(e){return{type:"REMOVE_TODO",payload:e}},toggleTodo:function(e){return{type:"TOGGLE_TODO",payload:e}},editTodo:function(e,t){return{type:"EDIT_TODO",payload:{id:e,text:t}}}})(_),A=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(j,null),o.a.createElement(L,null),o.a.createElement(S,null))};r.a.render(o.a.createElement(c.a,{store:h},o.a.createElement(A,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bfdb2401.chunk.js.map