(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(35)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(11),r=n.n(o),c=n(5),i=n(8),s=n(18),u={visibleFilter:localStorage.getItem("filter")||"all"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_FILTER":return localStorage.setItem("filter",a),a;default:return"@@INIT"===n?e.visibleFilter:e}},m=n(19),f=n(10),p={todos:JSON.parse(localStorage.getItem("todo"))||[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_TODO":var l=[].concat(Object(f.a)(e),[a]);return localStorage.setItem("todo",JSON.stringify(l)),l;case"REMOVE_TODO":var o=e.filter(function(e){return e.id!==a});return localStorage.setItem("todo",JSON.stringify(o)),o;case"TOGGLE_TODO":var r=e.findIndex(function(e){return e.id===a}),c=Object.assign({},e[r],{isComplete:!e[r].isComplete}),i=[].concat(Object(f.a)(e.slice(0,r)),[c],Object(f.a)(e.slice(r+1)));return localStorage.setItem("todo",JSON.stringify(i)),i;case"EDIT_TODO":var s=a.id,u=a.text,d=e.findIndex(function(e){return e.id===s}),h=Object.assign({},e[d],{text:u}),O=[].concat(Object(f.a)(e.slice(0,d)),[h],Object(f.a)(e.slice(d+1)));return localStorage.setItem("todo",JSON.stringify(O)),O;case"TOGGLE_ALL_TODOS":var b=e.every(function(e){return e.isComplete}),v=e.map(function(e){return Object(m.a)({},e,{isComplete:!b})});return localStorage.setItem("todo",JSON.stringify(v)),v;case"REMOVE_COMPLETED_TODOS":var E=e.filter(function(e){return!e.isComplete});return localStorage.setItem("todo",JSON.stringify(E)),E;default:return"@@INIT"===n?e.todos:e}},O=Object(i.combineReducers)({visibleFilter:d,todos:h}),b=Object(i.createStore)(O,Object(s.composeWithDevTools)()),v=n(2),E=n(3),g=n(6),y=n(4),T=n(7),C=(n(29),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(){(0,n.props.onToggleAll)()},n}return Object(T.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.active;return l.a.createElement("label",{className:"label-select-all",hidden:0===t,htmlFor:"select-all"},l.a.createElement("input",{onClick:this.handleClick,onChange:function(){},checked:0===n,type:"checkbox",id:"select-all",className:"select-all"}),l.a.createElement("span",{className:"select-all-pseudo"}))}}]),t}(a.PureComponent)),j=(n(30),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).createElement=function(e){var t=n.props.addTodo;e.keyCode&&13!==e.keyCode||""!==e.target.value&&(t({id:Date.now(),text:e.target.value,isComplete:!1}),e.target.value="")},n.handleBlur=function(e){n.createElement(e)},n.handleKeyDown=function(e){n.createElement(e)},n}return Object(T.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement("input",{className:"header__new-item",onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,placeholder:"What needs to be done?"})}}]),t}(a.PureComponent)),k=function(e){var t=e.total,n=e.active,o=e.toggleAllTodos,r=e.addTodo;return l.a.createElement(a.Fragment,null,l.a.createElement(C,{onToggleAll:o,total:t,active:n}),l.a.createElement(j,{addTodo:r}))},D=Object(c.b)(function(e){return{total:e.todos.length,active:e.todos.filter(function(e){return!e.isComplete}).length}},{addTodo:function(e){return{type:"ADD_TODO",payload:e}},toggleAllTodos:function(){return{type:"TOGGLE_ALL_TODOS"}}})(k),N=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(){var e=n.props;(0,e.setFilter)(e.filterName)},n}return Object(T.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isCurrent,n=e.filterName,a=e.filterLabel;return l.a.createElement("li",{className:"filters__item"},l.a.createElement("input",{className:"filter",defaultChecked:t,type:"radio",name:"group",id:n,onClick:this.handleClick}),l.a.createElement("label",{htmlFor:n,className:n},a))}}]),t}(a.PureComponent),w=[{name:"all",label:"All"},{name:"active",label:"Active"},{name:"completed",label:"Completed"}],I=(n(31),function(e){var t=e.selectedFilter,n=e.setFilter,a=w.map(function(e){var a=e.name,o=e.label;return l.a.createElement(N,{key:a,filterName:a,filterLabel:o,setFilter:n,isCurrent:t===a})});return l.a.createElement("ul",{className:"filters"},a)}),S=function(e){var t=e.total,n=e.completed,a=e.filter,o=e.removeCompletedTodos,r=e.setFilter;return l.a.createElement("footer",{className:"footer ".concat(0===t?" hidden":"")},l.a.createElement("span",{className:"counter"},"".concat(t-n," items left")),l.a.createElement(I,{selectedFilter:a,setFilter:r}),l.a.createElement("button",{className:"clear-completed",type:"submit",hidden:0===n,onClick:o},"Clear completed"))},F=Object(c.b)(function(e){return{filter:e.visibleFilter,total:e.todos.length,completed:e.todos.filter(function(e){return e.isComplete}).length}},{removeCompletedTodos:function(){return{type:"REMOVE_COMPLETED_TODOS"}},setFilter:function(e){return{type:"SET_FILTER",payload:e}}})(S),_=(n(32),n(33),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={isEdit:!1},n.inputFocusRef=l.a.createRef(),n.handleInputClick=function(){var e=n.props,t=e.id;(0,e.toggleTodo)(t)},n.handleBtnDeleteClick=function(){var e=n.props,t=e.id;(0,e.removeTodo)(t)},n.handleLabelDblClick=function(){n.setState({isEdit:!0})},n.handleKeyDown=function(e){n.handleNewInputEdit(e)},n.handleBlur=function(e){n.handleNewInputEdit(e)},n.handleNewInputEdit=function(e){var t=n.props,a=t.id,l=t.editTodo,o=t.removeTodo;n.props.text;e.keyCode&&13!==e.keyCode||(""!==e.target.value?(l(a,e.target.value),n.setState({isEdit:!1})):o(a))},n}return Object(T.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(){this.state.isEdit&&this.inputFocusRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.isComplete,a=this.state.isEdit;return l.a.createElement("li",{className:"item"},l.a.createElement("div",{className:"content-wrap"},l.a.createElement("input",{onClick:this.handleInputClick,className:"complete",type:"checkbox",checked:n,onChange:function(){}}),a?l.a.createElement("input",{className:"edit",ref:this.inputFocusRef,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,defaultValue:t}):l.a.createElement("span",{className:"caption",onDoubleClick:this.handleLabelDblClick},t),l.a.createElement("button",{className:"delete",type:"submit",onClick:this.handleBtnDeleteClick})))}}]),t}(a.PureComponent)),L=(n(34),function(e){var t=e.todos,n=e.toggleTodo,a=e.editTodo,o=e.removeTodo,r=t.map(function(e){return l.a.createElement(_,Object.assign({key:e.id},e,{toggleTodo:n,editTodo:a,removeTodo:o}))});return l.a.createElement("ul",{className:"todo-list"},r)}),A=function(e,t){switch(t){case"all":return e;case"completed":return e.filter(function(e){return e.isComplete});case"active":return e.filter(function(e){return!e.isComplete});default:return e}},x=Object(c.b)(function(e){return{todos:A(e.todos,e.visibleFilter)}},{removeTodo:function(e){return{type:"REMOVE_TODO",payload:e}},toggleTodo:function(e){return{type:"TOGGLE_TODO",payload:e}},editTodo:function(e,t){return{type:"EDIT_TODO",payload:{id:e,text:t}}}})(L),R=function(){return l.a.createElement(a.Fragment,null,l.a.createElement(D,null),l.a.createElement(x,null),l.a.createElement(F,null))};r.a.render(l.a.createElement(c.a,{store:b},l.a.createElement(R,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.11a334aa.chunk.js.map