(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(36)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"removeTodo",function(){return E}),n.d(a,"toggleTodo",function(){return T}),n.d(a,"addTodo",function(){return C}),n.d(a,"editTodo",function(){return y}),n.d(a,"selectAllTodos",function(){return g}),n.d(a,"removeCompletedTodos",function(){return D}),n.d(a,"setFilter",function(){return k}),n.d(a,"saveTodo",function(){return j});var r=n(0),o=n.n(r),l=n(11),c=n.n(l),i=n(5),s=n(8),u=n(18),d=localStorage.getItem("filter")||"all",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.filter;default:return e}},f=n(19),p=n(10),h=JSON.parse(localStorage.getItem("todo"))||[],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":var n=t.obj,a=n.id,r=n.text,o=n.isComplete;return[].concat(Object(p.a)(e),[{id:a,text:r,isComplete:o}]);case"REMOVE_TODO":return e.filter(function(e){return e.id!==t.id});case"TOGGLE_TODO":var l=e.findIndex(function(e){return e.id===t.id}),c=Object.assign({},e[l],{isComplete:!t.isComplete});return[].concat(Object(p.a)(e.slice(0,l)),[c],Object(p.a)(e.slice(l+1)));case"EDIT_TODO":var i=e.findIndex(function(e){return e.id===t.id}),s=Object.assign({},e[i],{text:t.text});return[].concat(Object(p.a)(e.slice(0,i)),[s],Object(p.a)(e.slice(i+1)));case"SELECT_ALL_TODOS":var u=e.every(function(e){return e.isComplete});return e.map(function(e){return Object(f.a)({},e,{isComplete:!u})});case"REMOVE_COMPLETED_TODOS":return e.filter(function(e){return!e.isComplete});case"SAVE_TODO":return localStorage.setItem("todo",JSON.stringify(e)),e;default:return e}},v=Object(s.combineReducers)({visibleFilter:m,todos:O}),b=Object(s.createStore)(v,Object(u.composeWithDevTools)()),E=function(e){return{type:"REMOVE_TODO",id:e}},T=function(e,t){return{type:"TOGGLE_TODO",id:e,isComplete:t}},C=function(e){return{type:"ADD_TODO",obj:e}},y=function(e,t){return{type:"EDIT_TODO",id:e,text:t}},j=function(){return{type:"SAVE_TODO"}},g=function(){return{type:"SELECT_ALL_TODOS"}},D=function(){return{type:"REMOVE_COMPLETED_TODOS"}},k=function(e){return{type:"SET_FILTER",filter:e}},N=n(2),w=n(3),_=n(6),F=n(4),S=n(7),A=(n(30),function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props,t=e.selectAllTodos,a=e.saveTodo;t(),a()},n}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.active;return o.a.createElement("label",{className:"label-select-all",hidden:0===t,htmlFor:"select-all"},o.a.createElement("input",{onClick:this.handleClick,onChange:function(){},checked:0===n,type:"checkbox",id:"select-all",className:"select-all"}),o.a.createElement("span",{className:"select-all-pseudo"}))}}]),t}(r.PureComponent)),L=(n(31),function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).createElement=function(e){var t=n.props,a=t.addTodo,r=t.saveTodo;e.keyCode&&13!==e.keyCode||""!==e.target.value&&(a({id:Date.now(),text:e.target.value,isComplete:!1}),r(),e.target.value="")},n.handleBlur=function(e){n.createElement(e)},n.handleKeyDown=function(e){n.createElement(e)},n}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return o.a.createElement("input",{className:"header__new-item",onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,placeholder:"What needs to be done?"})}}]),t}(r.PureComponent)),I=function(e){var t=e.total,n=e.active,a=e.selectAllTodos,r=e.addTodo,l=e.saveTodo;return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,{selectAllTodos:a,saveTodo:l,total:t,completed:n}),o.a.createElement(L,{addTodo:r,saveTodo:l}))},x=Object(i.b)(function(e){return{total:e.todos.length,active:e.todos.filter(function(e){return!e.isComplete}).length}},{addTodo:C,selectAllTodos:g,saveTodo:j})(I),R=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=n.props;(0,e.setFilter)(e.filterName)},n}return Object(S.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isCurrent,n=e.filterName,a=e.filterLabel;return o.a.createElement("li",{className:"filters__item"},o.a.createElement("input",{className:"filter",defaultChecked:t,type:"radio",name:"group",id:n,onClick:this.handleClick}),o.a.createElement("label",{htmlFor:n,className:n},a))}}]),t}(r.PureComponent),B=(n(32),function(e){var t=e.selectedFilter,n=e.setFilter,a=[{name:"all",label:"All"},{name:"active",label:"Active"},{name:"completed",label:"Completed"}].map(function(e){var a=e.name,r=e.label;return o.a.createElement(R,{key:a,filterName:a,filterLabel:r,setFilter:n,isCurrent:t===a})});return o.a.createElement("ul",{className:"filters"},a)}),V=function(e){var t=e.total,n=e.completed,a=e.filter,r=e.removeCompletedTodos,l=e.setFilter;return o.a.createElement("footer",{className:"footer ".concat(0===t?" hidden":"")},o.a.createElement("span",{className:"counter"},"".concat(t-n," items left")),o.a.createElement(B,{selectedFilter:a,setFilter:l}),o.a.createElement("button",{className:"clear-completed",type:"submit",hidden:0===n,onClick:r},"Clear completed"))},K=Object(i.b)(function(e){return{filter:e.visibleFilter,total:e.todos.length,completed:e.todos.filter(function(e){return e.isComplete}).length}},{removeCompletedTodos:D,setFilter:k})(V),M=(n(33),n(20)),P=(n(34),function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(_.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={isEdit:!1},n.inputFocusRef=o.a.createRef(),n.handleInputClick=function(){var e=n.props,t=e.id,a=e.isComplete,r=e.toggleTodo,o=e.saveTodo;r(t,a),o()},n.handleBtnDestroyClick=function(){var e=n.props,t=e.id,a=e.removeTodo,r=e.saveTodo;a(t),r()},n.handleLabelDblClick=function(){n.setState({isEdit:!0})},n.handleKeyDown=function(e){n.handleNewInputEdit(e)},n.handleBlur=function(e){n.handleNewInputEdit(e)},n.handleNewInputEdit=function(e){var t=n.props,a=t.id,r=t.editTodo,o=t.removeTodo,l=t.saveTodo;n.props.text;e.keyCode&&13!==e.keyCode||(""!==e.target.value?(r(a,e.target.value),n.setState({isEdit:!1}),l()):(o(a),l()))},n}return Object(S.a)(t,e),Object(w.a)(t,[{key:"componentDidUpdate",value:function(){this.state.isEdit&&this.inputFocusRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.isComplete,a=this.state.isEdit;return o.a.createElement("li",{className:"item"},o.a.createElement("div",{className:"content-wrap"},o.a.createElement("input",{onClick:this.handleInputClick,onChange:function(){},className:"complete",type:"checkbox",checked:n}),a?o.a.createElement("input",{className:"edit",ref:this.inputFocusRef,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,defaultValue:t}):o.a.createElement("span",{className:"caption",onDoubleClick:this.handleLabelDblClick},t),o.a.createElement("button",{className:"destroy",type:"submit",onClick:this.handleBtnDestroyClick})))}}]),t}(r.PureComponent)),G=(n(35),function(e){var t=e.todos,n=Object(M.a)(e,["todos"]),a=t.map(function(e){return o.a.createElement(P,Object.assign({key:e.id},e,n))});return o.a.createElement("ul",{className:"todo-list"},a)}),J=function(e,t){switch(t){case"all":return e;case"completed":return e.filter(function(e){return e.isComplete});case"active":return e.filter(function(e){return!e.isComplete});default:return e}},W=Object(i.b)(function(e){return{todos:J(e.todos,e.visibleFilter)}},a)(G),U=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(x,null),o.a.createElement(W,null),o.a.createElement(K,null))};c.a.render(o.a.createElement(i.a,{store:b},o.a.createElement(U,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.a8843e87.chunk.js.map